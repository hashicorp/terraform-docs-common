---
page_title: Deletion policies
description: >-
    Deletion policies used by the HCP Terraform Cloud Operator for Kubernetes.
---

# Deletion policies

The HCP Terraform Cloud Operator lets you specify how it should destroy the associated HCP Terraform resource when you delete the custom resource. 

This topic lists the 

## Workspaces

You can choose one of the following deletion policies for an instance of the `Workspace` custom resource:

- `retain`: When you delete the custom resource, the operator does not delete the workspace. This is the default value.
- `soft`: The operator attempts to delete the associated workspace only if it does not contain any managed resources. 
- `destroy`: The operator executes a destroy operation to remove all resources managed by the associated workspace. Once the destruction of these resources is successful, the operator deletes the workspace, then removes the custom resource.
- `force`: Forcefully and immediately deletes the workspace and the custom resource. 

If a workspace is retained, the custom resource deletion will not affect the workspace. 

To migrate, you need to manually export the workspace configuration and apply it in the new cluster. The workspace remains active and managed in the new cluster.

## Module

- `retain`: When you delete the custom resource, the operator does not delete the module. This is the default value.
- `soft`: Executes a destroy operation. Removes all resources and the module.

If a module is retained, deleting the custom resource will not affect the module. 
You can export the module configuration and apply it in the new cluster.

## Project 

- `retain`: When you delete the custom resource, the operator does not delete the project. This is the default value.
- `soft`: Attempts to remove the project. The project must be empty.

If the project is retained, it will remian in HCP Terraform and deleting the custom resource will not affect it.

To migrate, export the project configuration and apply it to the new cluster.

## Agent Pool

- `retain`: When you delete the custom resource, the operator does not delete the agent pool. This is the default value.
- `destroy`: Attempting to remove the agent pool is only possible when there are no associated workspaces. These workspaces need to be disconnected separately. In this case, the controller will remove all tokens and scale down the agents to zero.
 
If the Agent Pool is retained, it and its associated resources remians unaffected.

To migrate, you would export the agent pool configuration and apply it in the new cluster.
